{"version":3,"sources":["webpack:///./src/views/Login.vue?d02e","webpack:///./src/views/Login.vue?31c5","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/utils/request.js","webpack:///./src/api/laisonorder.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","active","isLogin","_v","directives","name","rawName","value","form","expression","attrs","domProps","on","$event","target","composing","$set","_s","mobileMsg","_e","passwordMsg","isExecuteLogin","stopPropagation","preventDefault","login","apply","arguments","register","changeType","staticRenderFns","data","loginCount","mobileError","passwordError","existed","mobile","password","mounted","window","sessionStorage","getItem","addEventListener","handleKeyDown","created","destroyed","removeEventListener","methods","e","keyCode","console","log","self","username","useremail","userpwd","$axios","method","url","email","alert","length","loginError","$message","loading","loginSuccess","success","setItem","$router","push","code","msg","error","component","service","axios","create","baseURL","process","timeout","interceptors","request","use","config","laisonToken","headers","Promise","reject","response","status","errcode","errmsg","statusText","res","undefined","router","authorization","message","indexOf","JSON","stringify","signIn","getLoginUser","loginout","getPCodes","getPColumns","processCode","changePColumns","getPCondition","getPDetail","fRefreshData","getUserById","userid","getRecordsByCondition","getUserDepts","getFileUrl","procInstId","responseType","changePwdUrl"],"mappings":"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","file":"js/chunk-618267e2.9f7d1ed8.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3f4b2a16&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-register\"},[_c('div',{staticClass:\"contain\"},[_c('div',{staticClass:\"big-box\",class:{active:_vm.isLogin}},[(_vm.isLogin)?_c('div',{staticClass:\"big-contain\"},[_c('div',{staticClass:\"btitle\"},[_vm._v(\"账户登录\")]),_c('div',{staticClass:\"bform\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.mobile),expression:\"form.mobile\"}],attrs:{\"type\":\"email\",\"placeholder\":\"手机号\"},domProps:{\"value\":(_vm.form.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"mobile\", $event.target.value)}}}),(_vm.mobileError)?_c('span',{staticClass:\"errTips\"},[_vm._v(_vm._s(_vm.mobileMsg))]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.password),expression:\"form.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.form.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"password\", $event.target.value)}}}),(_vm.passwordError)?_c('span',{staticClass:\"errTips\"},[_vm._v(_vm._s(_vm.passwordMsg))]):_vm._e()]),_c('a-button',{staticClass:\"bbutton\",attrs:{\"type\":\"primary\",\"htmlType\":\"submit\",\"loading\":_vm.isExecuteLogin,\"disabled\":_vm.isExecuteLogin},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_vm._v(\"登录 \")])],1):_c('div',{staticClass:\"big-contain\"},[_c('div',{staticClass:\"btitle\"},[_vm._v(\"创建账户\")]),_c('div',{staticClass:\"bform\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.username),expression:\"form.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.form.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"username\", $event.target.value)}}}),(_vm.existed)?_c('span',{staticClass:\"errTips\"},[_vm._v(\"* 用户名已经存在！ *\")]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.useremail),expression:\"form.useremail\"}],attrs:{\"type\":\"email\",\"placeholder\":\"邮箱\"},domProps:{\"value\":(_vm.form.useremail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"useremail\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.userpwd),expression:\"form.userpwd\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.form.userpwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"userpwd\", $event.target.value)}}})]),_c('button',{staticClass:\"bbutton\",on:{\"click\":_vm.register}},[_vm._v(\"注册\")])])]),_c('div',{staticClass:\"small-box\",class:{active:_vm.isLogin}},[(_vm.isLogin)?_c('div',{staticClass:\"small-contain\"},[_c('div',{staticClass:\"stitle\"},[_vm._v(\"欢迎使用订单系统!\")]),_c('p',{staticClass:\"scontent\"},[_vm._v(\"登录查询订单详情\")])]):_c('div',{staticClass:\"small-contain\"},[_c('div',{staticClass:\"stitle\"},[_vm._v(\"欢迎回来!\")]),_c('p',{staticClass:\"scontent\"},[_vm._v(\"与我们保持联系，请登录你的账户\")]),_c('button',{staticClass:\"sbutton\",on:{\"click\":_vm.changeType}},[_vm._v(\"登录\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-register\">\r\n    <div class=\"contain\">\r\n      <div class=\"big-box\" :class=\"{active:isLogin}\">\r\n        <div class=\"big-contain\" v-if=\"isLogin\">\r\n          <div class=\"btitle\">账户登录</div>\r\n          <div class=\"bform\">\r\n            <input type=\"email\" placeholder=\"手机号\" v-model=\"form.mobile\">\r\n            <span class=\"errTips\" v-if=\"mobileError\">{{ mobileMsg }}</span>\r\n            <!--            @keyup.enter='login'-->\r\n            <input type=\"password\" placeholder=\"密码\" v-model=\"form.password\">\r\n            <span class=\"errTips\" v-if=\"passwordError\">{{ passwordMsg }}</span>\r\n          </div>\r\n          <!--          <button class=\"bbutton\" @click=\"login\">登录</button>-->\r\n          <a-button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              class=\"bbutton\"\r\n              :loading=\"isExecuteLogin\"\r\n              @click.stop.prevent=\"login\"\r\n              :disabled=\"isExecuteLogin\">登录\r\n          </a-button>\r\n        </div>\r\n        <div class=\"big-contain\" v-else>\r\n          <div class=\"btitle\">创建账户</div>\r\n          <div class=\"bform\">\r\n            <input type=\"text\" placeholder=\"用户名\" v-model=\"form.username\">\r\n            <span class=\"errTips\" v-if=\"existed\">* 用户名已经存在！ *</span>\r\n            <input type=\"email\" placeholder=\"邮箱\" v-model=\"form.useremail\">\r\n            <input type=\"password\" placeholder=\"密码\" v-model=\"form.userpwd\">\r\n          </div>\r\n          <button class=\"bbutton\" @click=\"register\">注册</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"small-box\" :class=\"{active:isLogin}\">\r\n        <div class=\"small-contain\" v-if=\"isLogin\">\r\n          <div class=\"stitle\">欢迎使用订单系统!</div>\r\n          <p class=\"scontent\">登录查询订单详情</p>\r\n          <!--          <button  class=\"sbutton\" @click=\"changeType\">注册</button>-->\r\n        </div>\r\n        <div class=\"small-contain\" v-else>\r\n          <div class=\"stitle\">欢迎回来!</div>\r\n          <p class=\"scontent\">与我们保持联系，请登录你的账户</p>\r\n          <button class=\"sbutton\" @click=\"changeType\">登录</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {signIn} from \"@/api/laisonorder\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      loginCount: 0,\r\n      isExecuteLogin: false,\r\n      isLogin: true,\r\n      mobileError: false,\r\n      mobileMsg: \"\",\r\n      passwordError: false,\r\n      passwordMsg: \"\",\r\n      existed: false,\r\n      form: {\r\n        mobile: \"\",\r\n        password: \"\"\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.form.mobile = window.sessionStorage.getItem(\"laisonMobile\");\r\n    //绑定事件\r\n    window.addEventListener(\"keydown\", this.handleKeyDown, true); //开启监听键盘按下事件\r\n  },\r\n  created() {\r\n\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown, true)\r\n  },\r\n  methods: {\r\n    handleKeyDown(e) {\r\n      if (e.keyCode === 13) {\r\n        this.loginCount++\r\n        console.log(\"execute\", this.loginCount)\r\n        this.login()\r\n      }\r\n    },\r\n    changeType() {\r\n      this.isLogin = !this.isLogin\r\n      this.form.mobile = \"\"\r\n      this.form.password = \"\"\r\n    },\r\n    register() {\r\n      const self = this;\r\n      if (self.form.username != \"\" && self.form.useremail != \"\" && self.form.userpwd != \"\") {\r\n        self.$axios({\r\n          method: \"post\",\r\n          url: \"http://127.0.0.1:10520/api/user/add\",\r\n          data: {\r\n            username: self.form.username,\r\n            email: self.form.useremail,\r\n            password: self.form.userpwd\r\n          }\r\n        })\r\n            .then(res => {\r\n              switch (res.data) {\r\n                case 0:\r\n                  alert(\"注册成功！\");\r\n                  this.login();\r\n                  break;\r\n                case -1:\r\n                  this.existed = true;\r\n                  break;\r\n              }\r\n            })\r\n            .catch(err => {\r\n              console.log(err);\r\n            })\r\n      } else {\r\n        alert(\"填写不能为空！\");\r\n      }\r\n    },\r\n    /**\r\n     * 输入手机号登录查询，默认密码为laison4u，不能更改，第一版本不关联数据库了\r\n     */\r\n    login() {\r\n      if (this.isExecuteLogin) return\r\n      this.isExecuteLogin = true\r\n      if (!this.form.mobile) {\r\n        this.loginError(1, \"手机号没有输入\")\r\n        return;\r\n      }\r\n      if (this.form.mobile.length < 1) {\r\n        this.loginError(1, \"手机号没有输入\")\r\n        return\r\n      }\r\n      if (this.form.password.length < 1) {\r\n        this.loginError(2, \"密码没有输入\")\r\n        return\r\n      }\r\n      let encodePwd = window.btoa(this.form.password)\r\n      this.$message.loading(\"登录中..\", 0);\r\n      signIn({\"mobile\": this.form.mobile, \"password\": encodePwd}).then((res) => {\r\n        this.$message.destroy()\r\n        this.loginSuccess()\r\n      }).catch((err) => {\r\n        this.$message.destroy()\r\n        this.loginError(err.errcode, err.errmsg)\r\n      })\r\n    },\r\n    /**\r\n     * 登录成功\r\n     */\r\n    loginSuccess() {\r\n      this.isExecuteLogin = false\r\n      this.mobileError = false\r\n      this.mobileMsg = \"\"\r\n      this.passwordError = false\r\n      this.passwordMsg = \"\"\r\n      this.$message.success(\"登录成功！\")\r\n      window.sessionStorage.setItem(\"laisonMobile\", this.form.mobile)\r\n      //跳转\r\n      this.$router.push(\"/Home\")\r\n    },\r\n    /**\r\n     * 登录失败\r\n     */\r\n    loginError(code, msg) {\r\n      this.isExecuteLogin = false\r\n      if (code == 1) {\r\n        this.mobileError = true\r\n        this.mobileMsg = msg\r\n        this.passwordError = false\r\n        this.passwordMsg = \"\"\r\n      } else if (code == 2) {\r\n        this.mobileError = false\r\n        this.mobileMsg = \"\"\r\n        this.passwordError = true\r\n        this.passwordMsg = msg\r\n      } else {\r\n        this.$message.error(msg)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-register {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.contain {\r\n  width: 60%;\r\n  height: 60%;\r\n  position: relative;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #fff;\r\n  border-radius: 20px;\r\n  box-shadow: 0 0 10px #f0f0f0,\r\n  0 0 6px #f0f0f0;\r\n}\r\n\r\n.big-box {\r\n  width: 70%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 30%;\r\n  transform: translateX(0%);\r\n  transition: all 1s;\r\n}\r\n\r\n.login-button {\r\n  padding: 0 15px;\r\n  font-size: 16px;\r\n  height: 40px;\r\n  width: 100%;\r\n}\r\n\r\n.big-contain {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.btitle {\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  color: rgb(57, 167, 176);\r\n}\r\n\r\n.bform {\r\n  width: 100%;\r\n  height: 40%;\r\n  padding: 2em 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n\r\n.bform .errTips {\r\n  display: block;\r\n  width: 50%;\r\n  text-align: left;\r\n  color: red;\r\n  font-size: 0.7em;\r\n  margin-left: 1em;\r\n}\r\n\r\n.bform input {\r\n  width: 50%;\r\n  height: 30px;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 10px;\r\n  padding-left: 2em;\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.bbutton {\r\n  width: 20%;\r\n  height: 40px;\r\n  border-radius: 24px;\r\n  border: none;\r\n  outline: none;\r\n  background-color: rgb(57, 167, 176);\r\n  color: #fff;\r\n  font-size: 0.9em;\r\n  cursor: pointer;\r\n}\r\n\r\n.small-box {\r\n  width: 30%;\r\n  height: 100%;\r\n  background: linear-gradient(135deg, rgb(57, 167, 176), rgb(56, 183, 145));\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  transform: translateX(0%);\r\n  transition: all 1s;\r\n  border-top-left-radius: inherit;\r\n  border-bottom-left-radius: inherit;\r\n}\r\n\r\n.small-contain {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.stitle {\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  color: #fff;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n}\r\n\r\n.scontent {\r\n  font-size: 0.8em;\r\n  color: #fff;\r\n  text-align: center;\r\n  padding: 2em 4em;\r\n  line-height: 1.7em;\r\n}\r\n\r\n.sbutton {\r\n  width: 60%;\r\n  height: 40px;\r\n  border-radius: 24px;\r\n  border: 1px solid #fff;\r\n  outline: none;\r\n  background-color: transparent;\r\n  color: #fff;\r\n  font-size: 0.9em;\r\n  cursor: pointer;\r\n}\r\n\r\n.big-box.active {\r\n  left: 0;\r\n  transition: all 0.5s;\r\n}\r\n\r\n.small-box.active {\r\n  left: 100%;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n  border-top-right-radius: inherit;\r\n  border-bottom-right-radius: inherit;\r\n  transform: translateX(-100%);\r\n  transition: all 1s;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3f4b2a16&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=3f4b2a16&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f4b2a16\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\r\nimport {Message} from \"ant-design-vue\"\r\nimport router from \"@/routes/mainRoutes\";\r\n\r\nconst service = axios.create({\r\n    baseURL: process.env.VUE_APP_API_BASE_URL,\r\n    timeout: 10000 // request timeout\r\n})\r\n\r\nservice.interceptors.request.use(\r\n    config => {\r\n        let laisonToken = window.sessionStorage.getItem(\"laisonToken\");\r\n        if (laisonToken) {\r\n            config.headers[\"token\"] = laisonToken\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        //请求错误了\r\n        console.log(\"request:error\", error)\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const status = response.status\r\n        if (status !== 200) {\r\n            return Promise.reject({errcode: status, errmsg: (response.statusText ? response.statusText : \"获取网络请求失败\")})\r\n        }\r\n        const res = response.data\r\n        if (!res) {\r\n            return Promise.reject({errcode: status, errmsg: (response.statusText ? response.statusText : \"获取网络请求失败\")})\r\n        }\r\n        if (res.errcode===undefined||res.errcode===null) {\r\n            return response\r\n        }\r\n        if (res.errcode !== 0) {\r\n            if (res.errcode === 50008) { //token 过期或者失效\r\n                window.sessionStorage.setItem(\"laisonToken\", \"\")\r\n                router.push(\"/\")\r\n            }\r\n            return Promise.reject({errcode: res.errcode, errmsg: (res.errmsg ? res.errmsg : \"Error\")})\r\n        } else {\r\n            if (response.headers) {\r\n                if (response.headers.authorization) {\r\n                    window.sessionStorage.setItem(\"laisonToken\", response.headers.authorization)\r\n                }\r\n            }\r\n            return res\r\n        }\r\n    },\r\n    error => {\r\n        // console.log(\"最外部失败\", JSON.stringify(error))\r\n        if (error.message) {\r\n            if (error.message.indexOf(\"50008\") !== -1) {    //token过期\r\n                window.sessionStorage.setItem(\"laisonToken\", \"\")\r\n                router.push(\"/\")\r\n                return Promise.reject({errcode: 50008, errmsg: \"token过期或者失效，请重新登录！\"})\r\n            } else {\r\n                return Promise.reject({errcode: 500, errmsg: error.message})\r\n            }\r\n        } else {\r\n            return Promise.reject({errcode: 500, errmsg: JSON.stringify(error)})\r\n        }\r\n\r\n    }\r\n)\r\n\r\nexport default service\r\n","import request from \"@/utils/request\";\r\n\r\nexport function signIn(data) {\r\n    return request({\r\n        url: \"/login\",\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\nexport function getLoginUser() {\r\n    return request({\r\n        url: \"/getUserInfo\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function loginout() {\r\n    return request({\r\n        url: \"/loginOut\",\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\nexport function getPCodes() {\r\n    return request({\r\n        url: \"/getProcessCodes\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getDeptments(processCode) {\r\n    return request({\r\n        url: \"/getDeptList/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPCustomers(processCode) {\r\n    return request({\r\n        url: \"/getCustomers/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPColumns(processCode) {\r\n    return request({\r\n        url: \"/getProcessColumns/\" + processCode,\r\n        method: \"GET\"\r\n    })\r\n}\r\n\r\n\r\nexport function changePColumns(processCode, data) {\r\n    return request({\r\n        url: \"/changeProcessColumns/\" + processCode,\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\nexport function getPOrderStatus(processCode) {\r\n    return request({\r\n        url: \"/getOrderStatus/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPOrderProducts(processCode) {\r\n    return request({\r\n        url: \"/getOrderProduct/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPOrderTypes(processCode) {\r\n    return request({\r\n        url: \"/getOrderType/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPOrderUnits(processCode) {\r\n    return request({\r\n        url: \"/getOrderUnit/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPCondition(processCode) {\r\n    return request({\r\n        url: \"/getScreenCondition/\" + processCode,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getPDetail(processCode, data) {\r\n    return request({\r\n        url: \"/getProcessDetail/\" + processCode,\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\nexport function fRefreshData() {\r\n    return request({\r\n        url: \"/forceRefreshData\",\r\n        method: \"post\"\r\n    })\r\n}\r\n\r\nexport function getUserById(userid) {\r\n    return request({\r\n        url: \"/getUserInfoById/\" + userid,\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\nexport function getRecordsByCondition(data) {\r\n    return request({\r\n        url: \"/getRecordsByCondition\",\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\nexport function getUserByCode() {\r\n    return request({\r\n        url: \"/getUserInfoByCode\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\n\r\nexport function getUserDepts() {\r\n    return request({\r\n        url: \"/getUserDept\",\r\n        method: \"get\"\r\n    })\r\n}\r\n\r\n\r\nexport function getFileUrl(procInstId, data) {\r\n    return request({\r\n        url: \"/getEnclosureUrl/\" + procInstId,\r\n        method: \"post\",\r\n        responseType: \"blob\",\r\n        data\r\n    })\r\n}\r\n\r\nexport function changePwdUrl(data) {\r\n    return request({\r\n        url: \"/changePwd\",\r\n        method: \"post\",\r\n        data\r\n    })\r\n}\r\n\r\n"],"sourceRoot":""}